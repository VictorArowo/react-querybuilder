{"version":3,"file":"BulmaValueEditor-legacy.46a3b481.js","sources":["../../../bulma/src/BulmaActionElement.tsx","../../../bulma/src/BulmaNotToggle.tsx","../../../bulma/src/BulmaValueSelector.tsx","../../../bulma/src/BulmaValueEditor.tsx"],"sourcesContent":["import type { ActionProps } from 'react-querybuilder';\n\nexport const BulmaActionElement = ({\n  className,\n  handleOnClick,\n  label,\n  title,\n  disabled,\n  disabledTranslation,\n}: ActionProps) => (\n  <button\n    type=\"button\"\n    className={`button is-small ${className}`}\n    title={disabledTranslation && disabled ? disabledTranslation.title : title}\n    onClick={e => handleOnClick(e)}\n    disabled={disabled && !disabledTranslation}>\n    {disabledTranslation && disabled ? disabledTranslation.label : label}\n  </button>\n);\n\nBulmaActionElement.displayName = 'BulmaActionElement';\n","import type { NotToggleProps } from 'react-querybuilder';\n\nexport const BulmaNotToggle = ({\n  className,\n  handleOnChange,\n  label,\n  checked,\n  title,\n  disabled,\n}: NotToggleProps) => (\n  <label className={`${className} checkbox`} title={title}>\n    <input\n      type=\"checkbox\"\n      disabled={disabled}\n      checked={checked}\n      onChange={e => handleOnChange(e.target.checked)}\n    />\n    {label}\n  </label>\n);\n\nBulmaNotToggle.displayName = 'BulmaNotToggle';\n","import { useMemo, type ChangeEvent } from 'react';\nimport { joinWith, splitBy, type ValueSelectorProps } from 'react-querybuilder';\nimport { toOptions } from './utils';\n\nexport const BulmaValueSelector = ({\n  className,\n  handleOnChange,\n  options,\n  value,\n  title,\n  disabled,\n  multiple,\n  listsAsArrays,\n}: ValueSelectorProps) => {\n  const onChange = useMemo(\n    () =>\n      multiple\n        ? (e: ChangeEvent<HTMLSelectElement>) => {\n            const valArray = Array.from(e.target.selectedOptions).map(o => o.value);\n            handleOnChange(listsAsArrays ? valArray : joinWith(valArray, ','));\n          }\n        : (e: ChangeEvent<HTMLSelectElement>) => handleOnChange(e.target.value),\n    [handleOnChange, listsAsArrays, multiple]\n  );\n\n  const val = multiple ? (Array.isArray(value) ? value : splitBy(value, ',')) : value;\n\n  return (\n    <div title={title} className={`${className} select is-small`}>\n      <select value={val} multiple={!!multiple} disabled={disabled} onChange={onChange}>\n        {toOptions(options)}\n      </select>\n    </div>\n  );\n};\n\nBulmaValueSelector.displayName = 'BulmaValueSelector';\n","import {\n  joinWith,\n  standardClassnames,\n  toArray,\n  useValueEditor,\n  type ValueEditorProps,\n} from 'react-querybuilder';\nimport { BulmaValueSelector } from './BulmaValueSelector';\n\nexport const BulmaValueEditor = ({\n  fieldData,\n  operator,\n  value,\n  handleOnChange,\n  title,\n  className,\n  type,\n  inputType,\n  values = [],\n  listsAsArrays,\n  disabled,\n  testID,\n  ...props\n}: ValueEditorProps) => {\n  useValueEditor({ handleOnChange, inputType, operator, value });\n\n  if (operator === 'null' || operator === 'notNull') {\n    return null;\n  }\n\n  const placeHolderText = fieldData?.placeholder ?? '';\n  const inputTypeCoerced = ['between', 'notBetween', 'in', 'notIn'].includes(operator)\n    ? 'text'\n    : inputType || 'text';\n\n  if ((operator === 'between' || operator === 'notBetween') && type === 'select') {\n    const valArray = toArray(value);\n    const selector1handler = (v: string) => {\n      const val = [v, valArray[1] ?? values[0]?.name, ...valArray.slice(2)];\n      handleOnChange(listsAsArrays ? val : joinWith(val, ','));\n    };\n    const selector2handler = (v: string) => {\n      const val = [valArray[0], v, ...valArray.slice(2)];\n      handleOnChange(listsAsArrays ? val : joinWith(val, ','));\n    };\n    return (\n      <span data-testid={testID} className={className} title={title}>\n        <BulmaValueSelector\n          {...props}\n          className={standardClassnames.valueListItem}\n          handleOnChange={selector1handler}\n          disabled={disabled}\n          value={valArray[0]}\n          options={values}\n          listsAsArrays={listsAsArrays}\n        />\n        <BulmaValueSelector\n          {...props}\n          className={standardClassnames.valueListItem}\n          handleOnChange={selector2handler}\n          disabled={disabled}\n          value={valArray[1]}\n          options={values}\n          listsAsArrays={listsAsArrays}\n        />\n      </span>\n    );\n  }\n\n  switch (type) {\n    case 'select':\n    case 'multiselect':\n      return (\n        <BulmaValueSelector\n          {...props}\n          title={title}\n          className={className}\n          handleOnChange={handleOnChange}\n          options={values}\n          value={value}\n          disabled={disabled}\n          multiple={type === 'multiselect'}\n          listsAsArrays={listsAsArrays}\n        />\n      );\n\n    case 'textarea':\n      return (\n        <div className={`${className} control`}>\n          <textarea\n            value={value}\n            title={title}\n            disabled={disabled}\n            className=\"textarea\"\n            placeholder={placeHolderText}\n            onChange={e => handleOnChange(e.target.value)}\n          />\n        </div>\n      );\n\n    case 'switch':\n    case 'checkbox':\n      return (\n        <label title={title} className={`${className} checkbox`}>\n          <input\n            type=\"checkbox\"\n            checked={!!value}\n            disabled={disabled}\n            onChange={e => handleOnChange(e.target.checked)}\n          />\n        </label>\n      );\n\n    case 'radio':\n      return (\n        <div className={`${className} control`} title={title}>\n          {values.map(v => (\n            <label key={v.name} className=\"radio\">\n              <input\n                type=\"radio\"\n                value={v.name}\n                checked={value === v.name}\n                onChange={() => handleOnChange(v.name)}\n                disabled={disabled}\n              />\n              {v.label}\n            </label>\n          ))}\n        </div>\n      );\n  }\n\n  return (\n    <div className={`${className} control`}>\n      <input\n        type={inputTypeCoerced}\n        value={value}\n        title={title}\n        disabled={disabled}\n        className=\"input is-small\"\n        placeholder={placeHolderText}\n        onChange={e => handleOnChange(e.target.value)}\n      />\n    </div>\n  );\n};\n\nBulmaValueEditor.displayName = 'BulmaValueEditor';\n"],"names":["_ref","className","handleOnClick","label","title","disabled","disabledTranslation","type","onClick","e","children","displayName","handleOnChange","_ref2","checked","_jsx","onChange","target","BulmaValueSelector","_ref3","options","value","multiple","listsAsArrays","useMemo","valArray","Array","from","selectedOptions","map","o","joinWith","val","isArray","splitBy","toOptions","_ref4","fieldData","operator","inputType","_ref4$values","values","testID","props","useValueEditor","placeHolderText","placeholder","inputTypeCoerced","includes","toArray","standardClassnames","valueListItem","v","_valArray$","_values$","name","slice","_objectSpread"],"mappings":"0rEAEkC,SAAAA,GAAA,MAChCC,EAAAA,UACAC,IAAAA,cACAC,EAHgCH,EAGhCG,MACAC,EAAAA,EAAAA,MACAC,EAAAA,EAAAA,SACAC,EANgCN,EAMhCM,oBANgC,SAQhC,SAAA,CACEC,KAAK,SACLN,oCAA8BA,GAC9BG,MAAOE,GAAuBD,EAAWC,EAAoBF,MAAQA,EACrEI,QAASC,SAAKP,GAAAA,OAAAA,EAAcO,IAC5BJ,SAAUA,IAAaC,EALzBI,SAMGJ,GAAuBD,EAAWC,EAAoBH,MAAQA,OAIhDQ,YAAc,4BClBH,SAC5BV,GAAAA,IAAAA,IAAAA,UACAW,EAF4BC,EAE5BD,eACAT,EAAAA,EAAAA,MACAW,EAAAA,EAAAA,QACAV,EAL4BS,EAK5BT,MACAC,EAAAA,EAAAA,kBAEA,QAAA,CAAOJ,oBAAcA,eAAsBG,MAAAA,EAA3CM,SACE,CAAAK,EAAA,QAAA,CACER,KAAK,WACLF,SAAAA,EACAS,QAAAA,EACAE,SAAUP,SAAAA,GAAKG,OAAAA,EAAeH,EAAEQ,OAAOH,YAExCX,QAIUQ,YAAc,iBCjBhBO,aAAqB,SAAAC,GAChClB,IAAAA,IAAAA,UACAW,EAOwBO,EAPxBP,eACAQ,EAMwBD,EANxBC,QACAC,EAAAA,EAAAA,MACAjB,EAIwBe,EAJxBf,MACAC,EAAAA,EAAAA,SACAiB,EAAAA,EAAAA,SACAC,IAAAA,cAEMP,EAAWQ,EAAAA,QAAAA,SACf,WAAA,OACEF,EACI,SAACb,GACOgB,IAAAA,EAAWC,MAAMC,KAAKlB,EAAEQ,OAAOW,iBAAiBC,KAAIC,SAAKA,GAAAA,OAAAA,EAAET,SACjET,EAAeW,EAAgBE,EAAWM,EAASN,EAAU,OAE/D,SAAChB,GAAD,SAAsDA,EAAEQ,OAAOI,UACrE,CAACT,EAAgBW,EAAeD,IAG5BU,EAAMV,EAAYI,MAAMO,QAAQZ,GAASA,EAAQa,EAAQb,EAAO,KAAQA,EAE9E,SACE,MAAA,CAAKjB,MAAAA,EAAcH,oBAAcA,sBAAjCS,WACE,SAAA,CAAQW,MAAOW,EAAKV,WAAYA,EAAUjB,SAAAA,EAAoBW,SAAAA,EAA9DN,SACGyB,EAAUf,UAMnBF,EAAmBP,YAAc,4BC3BD,SAAAyB,GAC9BC,IAAAA,EAAAA,IAAAA,UACAC,EAYsBF,EAZtBE,SACAjB,EAAAA,EAAAA,MACAT,EAAAA,EAAAA,eACAR,EASsBgC,EATtBhC,MACAH,EAAAA,EAAAA,UACAM,IAAAA,KACAgC,EAMsBH,EANtBG,UAMsBC,EAAAJ,EALtBK,OAAAA,OAAS,IAAAD,EAAA,GACTjB,EAAAA,IAAAA,cACAlB,EAGsB+B,EAHtB/B,SACAqC,EAAAA,EAAAA,OACGC,EAEYC,EAAAA,EAAAA,GAEXN,GAFWM,EAAA,CAAEhC,eAAAA,EAAgB2B,UAAAA,EAAWD,SAAAA,EAAUjB,MAAAA,IAErC,SAAbiB,GAAoC,YAAbA,EAClB,OAAA,KAGHO,IAAAA,EAAAA,QAAkBR,EAAAA,MAAAA,OAAlBQ,EAAkBR,EAAWS,mBAA7BD,IAAAA,EAAAA,EAA4C,GAC5CE,EAAmB,CAAC,UAAW,aAAc,KAAM,SAASC,SAASV,GACvE,OACAC,GAAa,OAEjB,IAAkB,YAAAD,GAA0B,eAAbA,IAAuC,WAAT/B,EAAmB,CACxEkB,MAAWwB,EAAQ5B,GASzB,SACE,OAAA,CAAM,cAAaqB,EAAQzC,UAAAA,EAAsBG,MAAAA,EAAjDM,SACE,CAAAK,EAACG,EACKyB,EAAAA,EAAAA,GAAAA,OACJ1C,UAAWiD,EAAmBC,cAC9BvC,eAbmB,SAACwC,GACxB,IAAAC,EAAAC,EAAYtB,EAAA,CAACoB,EAAD,QAAI3B,EAAAA,EAAS,UAAb,IAAA4B,EAAAA,EAAA,QAAAC,EAAmBb,EAAO,UAA1B,IAAAa,OAAA,EAAmBb,EAAWc,eAAS9B,EAAS+B,MAAM,KAClE5C,EAAeW,EAAgBS,EAAMD,EAASC,EAAK,OAY/C3B,SAAAA,EACAgB,MAAOI,EAAS,GAChBL,QAASqB,EACTlB,cAAAA,KAEFR,EAACG,EAADuC,EAAAA,EAAA,GACMd,GADN,GAAA,CAEE1C,UAAWiD,EAAmBC,cAC9BvC,eAlBmB,SAACwC,GAClBpB,IAAAA,EAAOP,CAAAA,EAAS,GAAI2B,YAAM3B,EAAS+B,MAAM,KAC/C5C,EAAeW,EAAgBS,EAAMD,EAASC,EAAK,OAiB/C3B,SAAAA,EACAgB,MAAOI,EAAS,GAChBL,QAASqB,EACTlB,cAAAA,QAMAhB,OAAAA,GACD,IAAA,SACA,IAAA,cACH,SACGW,EACKyB,EAAAA,EAAAA,GAAAA,GACJvC,GAAAA,CAAAA,MAAAA,EACAH,UAAAA,EACAW,eAAAA,EACAQ,QAASqB,EACTpB,MAAAA,EACAhB,SAAAA,EACAiB,SAAmB,gBAATf,EACVgB,cAAAA,KAID,IAAA,WACH,SACE,MAAA,CAAKtB,UAAcA,GAAAA,OAAAA,cAAnBS,WACE,WAAA,CACEW,MAAAA,EACAjB,MAAAA,EACAC,SAAAA,EACAJ,UAAU,WACV6C,YAAaD,EACb7B,SAAUP,SAAAA,GAAKG,OAAAA,EAAeH,EAAEQ,OAAOI,YAK1C,IAAA,SACA,IAAA,WACH,SACE,QAAA,CAAOjB,MAAAA,EAAcH,UAAcA,GAAAA,OAAAA,EAAnC,aAAAS,WACE,QAAA,CACEH,KAAK,WACLO,UAAWO,EACXhB,SAAAA,EACAW,SAAUP,SAAAA,GAAAA,OAAoBA,EAAAA,EAAEQ,OAAOH,cAK1C,IAAA,QACH,SACE,MAAA,CAAKb,oBAAcA,cAAqBG,MAAAA,EAAxCM,SACG+B,EAAOZ,KAAIuB,SAAAA,GAAAA,SACV,QAAA,CAAoBnD,UAAU,QAA9BS,SACE,CAAAK,EAAA,QAAA,CACER,KAAK,QACLc,MAAO+B,EAAEG,KACTzC,QAASO,IAAU+B,EAAEG,KACrBvC,SAAU,WAAA,SAAqBoC,EAAEG,OACjClD,SAAAA,IAED+C,EAAEjD,QAROiD,EAAEG,WAexB,SACE,MAAA,CAAKtD,oBAAcA,cAAnBS,WACE,QAAA,CACEH,KAAMwC,EACN1B,MAAAA,EACAjB,MAAAA,EACAC,SAAAA,EACAJ,UAAU,iBACV6C,YAAaD,EACb7B,SAAUP,SAAAA,GAAAA,OAAoBA,EAAAA,EAAEQ,OAAOI,eAM9BV,YAAc"}