{"version":3,"file":"BulmaValueEditor.53caecb4.js","sources":["../../../bulma/src/BulmaActionElement.tsx","../../../bulma/src/BulmaNotToggle.tsx","../../../bulma/src/utils.tsx","../../../bulma/src/BulmaValueSelector.tsx","../../../bulma/src/BulmaValueEditor.tsx"],"sourcesContent":["import type { ActionProps } from 'react-querybuilder';\n\nexport const BulmaActionElement = ({\n  className,\n  handleOnClick,\n  label,\n  title,\n  disabled,\n  disabledTranslation,\n}: ActionProps) => (\n  <button\n    type=\"button\"\n    className={`${className} button is-small`}\n    title={disabledTranslation && disabled ? disabledTranslation.title : title}\n    onClick={e => handleOnClick(e)}\n    disabled={disabled && !disabledTranslation}>\n    {disabledTranslation && disabled ? disabledTranslation.label : label}\n  </button>\n);\n\nBulmaActionElement.displayName = 'BulmaActionElement';\n","import type { NotToggleProps } from 'react-querybuilder';\n\nexport const BulmaNotToggle = ({\n  className,\n  handleOnChange,\n  label,\n  checked,\n  title,\n  disabled,\n}: NotToggleProps) => (\n  <label className={`${className} checkbox`} title={title}>\n    <input\n      type=\"checkbox\"\n      disabled={disabled}\n      checked={checked}\n      onChange={e => handleOnChange(e.target.checked)}\n    />\n    {label}\n  </label>\n);\n\nBulmaNotToggle.displayName = 'BulmaNotToggle';\n","import type { Field, NameLabelPair, OptionGroup } from 'react-querybuilder';\n\nexport const isOptionGroupArray = (arr: Field['values']): arr is OptionGroup[] =>\n  Array.isArray(arr) && arr.length > 0 && 'options' in arr[0];\n\nexport const toOptions = (arr?: NameLabelPair[] | OptionGroup[]) =>\n  isOptionGroupArray(arr)\n    ? arr.map(og => (\n        <optgroup key={og.label} label={og.label}>\n          {og.options.map(opt => (\n            <option key={opt.name} value={opt.name}>\n              {opt.label}\n            </option>\n          ))}\n        </optgroup>\n      ))\n    : Array.isArray(arr)\n    ? arr.map(opt => (\n        <option key={opt.name} value={opt.name}>\n          {opt.label}\n        </option>\n      ))\n    : /* istanbul ignore next */ null;\n","import { useMemo, type ChangeEvent } from 'react';\nimport type { ValueSelectorProps } from 'react-querybuilder';\nimport { toOptions } from './utils';\n\nexport const BulmaValueSelector = ({\n  className,\n  handleOnChange,\n  options,\n  value,\n  title,\n  disabled,\n  multiple,\n}: ValueSelectorProps) => {\n  const onChange = useMemo(() => {\n    if (multiple) {\n      return (e: ChangeEvent<HTMLSelectElement>) =>\n        handleOnChange(\n          [...e.target.options]\n            .filter(o => o.selected)\n            .map(o => o.value)\n            .join(',')\n        );\n    }\n    return (e: ChangeEvent<HTMLSelectElement>) => handleOnChange(e.target.value);\n  }, [handleOnChange, multiple]);\n\n  return (\n    <div title={title} className={`${className} select is-small`}>\n      <select\n        value={multiple && value ? value.split(',') : value}\n        multiple={!!multiple}\n        disabled={disabled}\n        onChange={onChange}>\n        {toOptions(options)}\n      </select>\n    </div>\n  );\n};\n\nBulmaValueSelector.displayName = 'BulmaValueSelector';\n","import { useEffect } from 'react';\nimport type { ValueEditorProps } from 'react-querybuilder';\nimport { BulmaValueSelector } from './BulmaValueSelector';\n\nexport const BulmaValueEditor = ({\n  fieldData,\n  operator,\n  value,\n  handleOnChange,\n  title,\n  className,\n  type,\n  inputType,\n  values,\n  disabled,\n  ...props\n}: ValueEditorProps) => {\n  useEffect(() => {\n    if (\n      inputType === 'number' &&\n      !['between', 'notBetween', 'in', 'notIn'].includes(operator) &&\n      typeof value === 'string' &&\n      value.includes(',')\n    ) {\n      handleOnChange('');\n    }\n  }, [inputType, operator, value, handleOnChange]);\n\n  if (operator === 'null' || operator === 'notNull') {\n    return null;\n  }\n\n  const placeHolderText = fieldData?.placeholder ?? '';\n  const inputTypeCoerced = ['between', 'notBetween', 'in', 'notIn'].includes(operator)\n    ? 'text'\n    : inputType || 'text';\n\n  switch (type) {\n    case 'select':\n    case 'multiselect':\n      return (\n        <BulmaValueSelector\n          {...props}\n          title={title}\n          className={className}\n          handleOnChange={handleOnChange}\n          options={values!}\n          value={value}\n          disabled={disabled}\n          multiple={type === 'multiselect'}\n        />\n      );\n\n    case 'textarea':\n      return (\n        <div className={`${className} control`}>\n          <textarea\n            value={value}\n            title={title}\n            disabled={disabled}\n            className=\"textarea\"\n            placeholder={placeHolderText}\n            onChange={e => handleOnChange(e.target.value)}\n          />\n        </div>\n      );\n\n    case 'switch':\n    case 'checkbox':\n      return (\n        <label title={title} className={`${className} checkbox`}>\n          <input\n            type=\"checkbox\"\n            checked={!!value}\n            disabled={disabled}\n            onChange={e => handleOnChange(e.target.checked)}\n          />\n        </label>\n      );\n\n    case 'radio':\n      return (\n        <div className={`${className} control`} title={title}>\n          {values!.map(v => (\n            <label key={v.name} className=\"radio\">\n              <input\n                type=\"radio\"\n                value={v.name}\n                checked={value === v.name}\n                onChange={() => handleOnChange(v.name)}\n                disabled={disabled}\n              />\n              {v.label}\n            </label>\n          ))}\n        </div>\n      );\n  }\n\n  return (\n    <div className={`${className} control`}>\n      <input\n        type={inputTypeCoerced}\n        value={value}\n        title={title}\n        disabled={disabled}\n        className=\"input is-small\"\n        placeholder={placeHolderText}\n        onChange={e => handleOnChange(e.target.value)}\n      />\n    </div>\n  );\n};\n\nBulmaValueEditor.displayName = 'BulmaValueEditor';\n"],"names":["BulmaActionElement","className","handleOnClick","label","title","disabled","disabledTranslation","e","displayName","BulmaNotToggle","handleOnChange","checked","_jsx","target","isOptionGroupArray","arr","Array","isArray","length","toOptions","map","og","options","opt","name","BulmaValueSelector","value","multiple","onChange","useMemo","filter","o","selected","join","split","BulmaValueEditor","fieldData","operator","type","inputType","values","props","useEffect","includes","placeHolderText","placeholder","inputTypeCoerced","v"],"mappings":"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"}