{"version":3,"file":"BulmaValueEditor-legacy.11598a05.js","sources":["../../../bulma/src/BulmaActionElement.tsx","../../../bulma/src/BulmaNotToggle.tsx","../../../bulma/src/utils.tsx","../../../bulma/src/BulmaValueSelector.tsx","../../../bulma/src/BulmaValueEditor.tsx"],"sourcesContent":["import type { ActionProps } from 'react-querybuilder';\n\nexport const BulmaActionElement = ({\n  className,\n  handleOnClick,\n  label,\n  title,\n  disabled,\n  disabledTranslation,\n}: ActionProps) => (\n  <button\n    type=\"button\"\n    className={`${className} button is-small`}\n    title={disabledTranslation && disabled ? disabledTranslation.title : title}\n    onClick={e => handleOnClick(e)}\n    disabled={disabled && !disabledTranslation}>\n    {disabledTranslation && disabled ? disabledTranslation.label : label}\n  </button>\n);\n\nBulmaActionElement.displayName = 'BulmaActionElement';\n","import type { NotToggleProps } from 'react-querybuilder';\n\nexport const BulmaNotToggle = ({\n  className,\n  handleOnChange,\n  label,\n  checked,\n  title,\n  disabled,\n}: NotToggleProps) => (\n  <label className={`${className} checkbox`} title={title}>\n    <input\n      type=\"checkbox\"\n      disabled={disabled}\n      checked={checked}\n      onChange={e => handleOnChange(e.target.checked)}\n    />\n    {label}\n  </label>\n);\n\nBulmaNotToggle.displayName = 'BulmaNotToggle';\n","import type { Field, NameLabelPair, OptionGroup } from 'react-querybuilder';\n\nexport const isOptionGroupArray = (arr: Field['values']): arr is OptionGroup[] =>\n  Array.isArray(arr) && arr.length > 0 && 'options' in arr[0];\n\nexport const toOptions = (arr?: NameLabelPair[] | OptionGroup[]) =>\n  isOptionGroupArray(arr)\n    ? arr.map(og => (\n        <optgroup key={og.label} label={og.label}>\n          {og.options.map(opt => (\n            <option key={opt.name} value={opt.name}>\n              {opt.label}\n            </option>\n          ))}\n        </optgroup>\n      ))\n    : Array.isArray(arr)\n    ? arr.map(opt => (\n        <option key={opt.name} value={opt.name}>\n          {opt.label}\n        </option>\n      ))\n    : /* istanbul ignore next */ null;\n","import { useMemo, type ChangeEvent } from 'react';\nimport type { ValueSelectorProps } from 'react-querybuilder';\nimport { toOptions } from './utils';\n\nexport const BulmaValueSelector = ({\n  className,\n  handleOnChange,\n  options,\n  value,\n  title,\n  disabled,\n  multiple,\n}: ValueSelectorProps) => {\n  const onChange = useMemo(() => {\n    if (multiple) {\n      return (e: ChangeEvent<HTMLSelectElement>) =>\n        handleOnChange(\n          [...e.target.options]\n            .filter(o => o.selected)\n            .map(o => o.value)\n            .join(',')\n        );\n    }\n    return (e: ChangeEvent<HTMLSelectElement>) => handleOnChange(e.target.value);\n  }, [handleOnChange, multiple]);\n\n  return (\n    <div title={title} className={`${className} select is-small`}>\n      <select\n        value={multiple && value ? value.split(',') : value}\n        multiple={!!multiple}\n        disabled={disabled}\n        onChange={onChange}>\n        {toOptions(options)}\n      </select>\n    </div>\n  );\n};\n\nBulmaValueSelector.displayName = 'BulmaValueSelector';\n","import { useEffect } from 'react';\nimport type { ValueEditorProps } from 'react-querybuilder';\nimport { BulmaValueSelector } from './BulmaValueSelector';\n\nexport const BulmaValueEditor = ({\n  fieldData,\n  operator,\n  value,\n  handleOnChange,\n  title,\n  className,\n  type,\n  inputType,\n  values,\n  disabled,\n  ...props\n}: ValueEditorProps) => {\n  useEffect(() => {\n    if (\n      inputType === 'number' &&\n      !['between', 'notBetween', 'in', 'notIn'].includes(operator) &&\n      typeof value === 'string' &&\n      value.includes(',')\n    ) {\n      handleOnChange('');\n    }\n  }, [inputType, operator, value, handleOnChange]);\n\n  if (operator === 'null' || operator === 'notNull') {\n    return null;\n  }\n\n  const placeHolderText = fieldData?.placeholder ?? '';\n  const inputTypeCoerced = ['between', 'notBetween', 'in', 'notIn'].includes(operator)\n    ? 'text'\n    : inputType || 'text';\n\n  switch (type) {\n    case 'select':\n    case 'multiselect':\n      return (\n        <BulmaValueSelector\n          {...props}\n          title={title}\n          className={className}\n          handleOnChange={handleOnChange}\n          options={values!}\n          value={value}\n          disabled={disabled}\n          multiple={type === 'multiselect'}\n        />\n      );\n\n    case 'textarea':\n      return (\n        <div className={`${className} control`}>\n          <textarea\n            value={value}\n            title={title}\n            disabled={disabled}\n            className=\"textarea\"\n            placeholder={placeHolderText}\n            onChange={e => handleOnChange(e.target.value)}\n          />\n        </div>\n      );\n\n    case 'switch':\n    case 'checkbox':\n      return (\n        <label title={title} className={`${className} checkbox`}>\n          <input\n            type=\"checkbox\"\n            checked={!!value}\n            disabled={disabled}\n            onChange={e => handleOnChange(e.target.checked)}\n          />\n        </label>\n      );\n\n    case 'radio':\n      return (\n        <div className={`${className} control`} title={title}>\n          {values!.map(v => (\n            <label key={v.name} className=\"radio\">\n              <input\n                type=\"radio\"\n                value={v.name}\n                checked={value === v.name}\n                onChange={() => handleOnChange(v.name)}\n                disabled={disabled}\n              />\n              {v.label}\n            </label>\n          ))}\n        </div>\n      );\n  }\n\n  return (\n    <div className={`${className} control`}>\n      <input\n        type={inputTypeCoerced}\n        value={value}\n        title={title}\n        disabled={disabled}\n        className=\"input is-small\"\n        placeholder={placeHolderText}\n        onChange={e => handleOnChange(e.target.value)}\n      />\n    </div>\n  );\n};\n\nBulmaValueEditor.displayName = 'BulmaValueEditor';\n"],"names":["_ref","className","handleOnClick","label","title","disabled","disabledTranslation","type","onClick","e","children","displayName","_ref2","handleOnChange","checked","_jsx","onChange","target","isOptionGroupArray","toOptions","arr","Array","isArray","length","map","og","options","opt","value","name","BulmaValueSelector","_ref3","multiple","useMemo","_toConsumableArray","filter","o","selected","join","split","_ref4","_fieldData$placeholde","fieldData","operator","inputType","values","props","useEffect","includes","placeHolderText","placeholder","inputTypeCoerced","v"],"mappings":"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"}